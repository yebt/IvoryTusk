#!/bin/env bash

HANLDER_WORKDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" >/dev/null 2>&1 && pwd)"

# --------------------------------------------------------
. "$HANLDER_WORKDIR"/colors

# --------------------------------------------------------

command_to_handle="$1"
shift
if [ -z "$command_to_handle" ]; then
    error "No command provided" "Need to provide a command to handle"
    exit 1
fi
command_file_to_handle="$HANLDER_WORKDIR/../commands/$command_to_handle"
if [ ! -f "$command_file_to_handle" ]; then
    error "Command not found" "Command '$command_to_handle' not found"
    exit 1
fi

# --------------------------------------------------------

# shellcheck source=/dev/null
source "$HANLDER_WORKDIR/../commands/$command_to_handle"

# load the interface
source "$HANLDER_WORKDIR/command_interface"
