#!/bin/env bash

# --------------------------------------------------------
# This file is an abstraction of the interface for the
# commands files
# --------------------------------------------------------

declare COMMAND_HELP_TEXT=${COMMAND_HELP_TEXT:-}
declare -a ARGUMENTS=${ARGUMENTS:-()}
declare -a FLAGS=${FLAGS:-()}

# --------------------------------------------------------


command_help() {
    if [ -n "$COMMAND_HELP_TEXT" ]; then
        show "$COMMAND_HELP_TEXT"
    else 
        warning "Command help not found" "Please, set the 'COMMAND_HELP_TEXT' variable"
    fi
}

# --------------------------------------------------------

# Show minimal help
if [ "$#" -eq 0 ] || [ "$1" == "--command-help" ]; then
    command_help
    exit 0
fi


# TODO:
# - [ ] General command help, this just show the command purpose
# - [ ] Expanded help, show the command purpose and all aviable args and flags
# - [ ] Specific help. show the help abot the provided args or flags
# - [ ] Run: execute the command